version: "3"
services:
  api:
    image: api
    environment:
      DB_DIALECT: postgresql
      DB_HOST: localhost
      DB_PORT: 5432
      DB_NAME: db
      DB_USER: postgres
      DB_PASSWORD: password
  client:
    image: alpine
    depends_on:
      - api
    volumes:
      - ${PWD}/client:/client
    command:
      - "/bin/sh"
      - "-c"
      - "/bin/sleep 10 && chmod +x /client/client_script.sh && /client/client_script.sh"
